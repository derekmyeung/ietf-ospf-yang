<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
    <!ENTITY RFC905 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.0905.xml'>
    <!ENTITY RFC1765 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.1765.xml'>
    <!ENTITY RFC1793 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.1793.xml'>
    <!ENTITY RFC2119 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml'>
    <!ENTITY RFC2328 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.2328.xml'>
    <!ENTITY RFC3623 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.3623.xml'>
    <!ENTITY RFC3630 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.3630.xml'>
    <!ENTITY RFC3688 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.3688.xml'>
    <!ENTITY RFC4552 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.4552.xml'>
    <!ENTITY RFC4915 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.4915.xml'>
    <!ENTITY RFC5185 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5185.xml'>
    <!ENTITY RFC5187 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5187.xml'>
    <!ENTITY RFC3101 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.3101.xml'>
    <!ENTITY RFC4576 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.4576.xml'>
    <!ENTITY RFC4577 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.4577.xml'>
    <!ENTITY RFC4750 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.4750.xml'>
    <!ENTITY RFC5082 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5082.xml'>
    <!ENTITY RFC5250 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5250.xml'>
    <!ENTITY RFC5286 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5286.xml'>
    <!ENTITY RFC5329 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5329.xml'>
    <!ENTITY RFC5340 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5340.xml'>
    <!ENTITY RFC5443 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5443.xml'>
     <!ENTITY RFC5613 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5613.xml'>
     <!ENTITY RFC5643 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5643.xml'>
    <!ENTITY RFC5714 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5714.xml'>
    <!ENTITY RFC5838 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5838.xml'>
    <!ENTITY RFC5880 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5880.xml'>
    <!ENTITY RFC5881 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.5881.xml'>
    <!ENTITY RFC6020 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.6020.xml'>
    <!ENTITY RFC6241 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.6241.xml'>
    <!ENTITY RFC6242 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.6242.xml'>
    <!ENTITY RFC6565 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.6565.xml'>
    <!ENTITY RFC6860 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.6860.xml'>
    <!ENTITY RFC6987 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.6987.xml'>
    <!ENTITY RFC6991 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.6991.xml'>
    <!ENTITY RFC7490 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.7490.xml'>
    <!ENTITY RFC7684 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.7684.xml'>
    <!ENTITY RFC7770 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.7770.xml'>
    <!ENTITY RFC7777 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.7777.xml'>
    <!ENTITY RFC7950 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.7950.xml'>
    <!ENTITY RFC8040 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.8040.xml'>
    <!ENTITY RFC8174 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.8174.xml'>
    <!ENTITY RFC8177 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.8177.xml'>
    <!ENTITY RFC8294 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.8294.xml'>
    <!ENTITY RFC8340 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.8340.xml'>
    <!ENTITY RFC8341 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.8341.xml'>
    <!ENTITY RFC8342 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.8342.xml'>
    <!ENTITY RFC8343 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.8343.xml'>
    <!ENTITY RFC8349 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.8349.xml'>
    <!ENTITY RFC8405 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.8405.xml'>
    <!ENTITY RFC8446 PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml/reference.RFC.8446.xml'>
    <!ENTITY I-D.ietf-bfd-yang PUBLIC ''
      'http://xml.resource.org/public/rfc/bibxml-ids/reference.I-D.draft-ietf-bfd-yang-17.xml'>
    ]>
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>
<?rfc strict="no" ?>
<?rfc toc="yes" ?>
<?rfc symrefs="yes" ?>
<?rfc sortrefs="yes"?>

<?rfc rfcedstyle="yes" ?>
<?rfc subcompact="no" ?>

<rfc category="std" docName="draft-ietf-ospf-yang-18" ipr="trust200902">
  <!-- category values: std, bcp, info, exp, and historic
     ipr values: full3667, noModification3667, noDerivatives3667
     you can add the attributes updates="NNNN" and obsoletes="NNNN"
     they will automatically be output with "(if approved)" -->

  <!-- ***** FRONT MATTER ***** -->

  <front>
    <!-- The abbreviated title is used in the page header - it is only necessary if the
         full title is longer than 39 characters -->

  <title abbrev="OSPF YANG Data Model">YANG Data Model for OSPF Protocol
    </title>

    <!-- add 'role="editor"' below for the editors if appropriate -->

    <!-- Another author who claims to be an editor -->

    <author fullname="Derek Yeung" initials="D" surname="Yeung">
      <organization>Arrcus</organization>

      <address>
        <phone></phone>

        <email>derek@arrcus.com</email>

        <!-- uri and facsimile elements may also be added -->
      </address>
    </author>

    <author fullname="Yingzhen Qu" initials="Y" surname="Qu">
      <organization>Huawei</organization>

      <address>
        <postal>
          <street>2330 Central Expressway</street>

          <!-- Reorder these if your country does things differently -->

          <city>Santa Clara</city>

          <region>CA</region>

          <code>95050</code>

          <country>USA</country>
        </postal>

        <phone></phone>

        <email>yingzhen.qu@huawei.com</email>

        <!-- uri and facsimile elements may also be added -->
      </address>
    </author>

    <author fullname="Jeffrey Zhang" initials="J" surname="Zhang">

      <organization>Juniper Networks</organization>

      <address>
        <postal>
          <street>10 Technology Park Drive</street>

          <!-- Reorder these if your country does things differently -->

          <city>Westford</city>

          <region>MA</region>

          <code>01886</code>

          <country>USA</country>
        </postal>
        <phone></phone>

        <email>zzhang@juniper.net</email>

        <!-- uri and facsimile elements may also be added -->
      </address>
    </author>

    <author fullname="Ing-Wher Chen" initials="I." surname="Chen">
      <organization>MITRE Corporation</organization>
      <address>
        <email>ingwherchen@mitre.org</email>
      </address>
    </author>

    <author fullname="Acee Lindem" initials="A." surname="Lindem">
      <organization>Cisco Systems</organization>
      <address>
        <postal>
          <street>301 Midenhall Way</street>
          <city>Cary, NC 27513</city>
        </postal>
        <email>acee@cisco.com</email>
      </address>
    </author>
    <date/>

    <!-- If the month and year are both specified and are the current ones, xml2rfc will fill
         in the current day for you. If only the current year is specified, xml2rfc will fill
   in the current day and month for you. If the year is not the current one, it is
   necessary to specify at least a month (xml2rfc assumes day="1" if not specified for the
   purpose of calculating the expiry date).  With drafts it is normally sufficient to
   specify just the year. -->

    <!-- Meta-data Declarations -->

    <area>General</area>

    <workgroup>Internet</workgroup>

    <!-- WG name at the upperleft corner of the doc,
         IETF is fine for individual submissions.
   If this element is not present, the default is "Network Working Group",
         which is used by the RFC Editor as a nod to the history of the IETF. -->

    <!-- Keywords will be incorporated into HTML output
         files in a meta tag but they have no effect on text or nroff
         output. If you submit your draft to the RFC Editor, the
         keywords will be used for the search engine. -->

    <abstract>
      <t>This document defines a YANG data model that can be
      used to configure and manage OSPF. The model is based on
      YANG 1.1 as defined in RFC 7950 and conforms to the
      Network Management Datastore Architecture (NDMA) as described
      in RFC 8342.</t>
    </abstract>
  </front>

  <middle>
    <section title="Overview">
      <t>YANG <xref target="RFC6020"></xref><xref target="RFC7950"/> is a data
      definition language used to define the contents of a conceptual data store
      that allows networked devices to be managed using NETCONF
      <xref target="RFC6241"></xref>. YANG is proving relevant beyond its
      initial confines, as bindings to other interfaces (e.g., ReST) and
      encodings other than XML (e.g., JSON) are being defined.  Furthermore,
      YANG data models can be used as the basis for implementation of other
      interfaces, such as CLI and programmatic APIs.</t>

    <t>This document defines a YANG data model that can be used to configure
    and manage OSPF and it is an augmentation to the core routing data model.
    If fully conforms to the Network Management Datastore Architecture (NDMA)
    <xref target="RFC8342"/>.
    A core routing data model is defined in
    <xref target="RFC8349"></xref>,
    and it provides the basis for the development of data models for routing
    protocols.  The interface data model is defined in
    <xref target="RFC8343"></xref> and is used for referencing
    interfaces from the routing protocol. The key-chain data model used for
    OSPF authentication is defined in <xref target="RFC8177"></xref>
    and provides both a reference to configured key-chains and an
    enumeration of cryptographic algorithms.</t>

    <t>Both OSPFv2 <xref target="RFC2328"></xref> and OSPFv3
    <xref target="RFC5340"></xref> are supported.  In addition to
    the core OSPF protocol, features described in other
    OSPF RFCs are also supported. These includes demand circuit
    <xref target="RFC1793"></xref>, traffic engineering <xref target="RFC3630"></xref>,
    multiple address family <xref target="RFC5838"></xref>, graceful restart
    <xref target="RFC3623"></xref> <xref target="RFC5187"></xref>,
    NSSA <xref target="RFC3101"></xref>, and OSPF(v3) as a PE-CE Protocol
    <xref target="RFC4577"></xref>, <xref target="RFC6565"></xref>.
    These non-core features are optional in the OSPF data model.</t>

     <section title="Requirements Language">
       <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
        NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
        "MAY", and "OPTIONAL" in this document are to be interpreted as
        described in BCP 14 <xref target="RFC2119"/> <xref target="RFC8174"/>
        when, and only when, they appear in all capitals, as shown here.</t>
     </section>
     <section title="Tree Diagrams">
       <t>This document uses the graphical representation of data models
          defined in <xref target="RFC8340"/>.</t>
     </section>
    </section>

    <section title="Design of Data Model">
    <t>Although the basis of OSPF configuration elements like routers,
    areas, and interfaces remains the same, the detailed configuration
    model varies among router vendors.  Differences are observed in terms
    of how the protocol engine is tied to the routing domain, how multiple
    protocol engines are be instantiated  among others.</t>
    <t>The goal of this document is to define a data model that provides a common user
    interface to the OSPFv2 and OSPFv3 protocols. There is very little information that is
    designated as "mandatory", providing freedom for vendors to adapt this data model to their
    respective product implementations.</t>
    <section title="OSPF Operational State">
    <t>The OSPF operational state is included in the same tree as OSPF configuration
    consistent with Network Management Datastore Architecture
    <xref target="RFC8342"></xref>. Consequently, only the routing container
    in the ietf-routing model <xref target="RFC8349"/> is augmented. The routing-state container
    is not augmented.</t>
    </section>

    <section title="Overview">
    <t>The OSPF YANG module defined in this document has all the common building
   blocks for the OSPF protocol.</t>
    <t>The OSPF YANG module augments the /routing/control-plane-protocols/control-plane-protocol
    path defined in the ietf-routing module.</t>

    <figure align="center">
      <artwork align="left">
module: ietf-ospf
  augment /rt:routing/rt:control-plane-protocols/
           rt:control-plane-protocol:
    +--rw ospf
          .
          .
       +--rw operation-mode?          identityref
       +--rw af?                      identityref
          .
          .
       +--rw areas
       |  +--rw area* [area-id]
       |     +--rw area-id                   area-id-type
       |        .
       |        .
       |     +--rw virtual-links
       |     |  +--rw virtual-link* [transit-area-id router-id]
       |     |     .
       |     |     .
       |     +--rw sham-links {pe-ce-protocol}?
       |     |  +--rw sham-link* [local-id remote-id]
       |     |     .
       |     |     .
       |     +--rw interfaces
       |        +--rw interface* [name]
       |           .
       |           .
       +--rw topologies {multi-topology}?
          +--rw topology* [name]
             .
             .
      </artwork>
    </figure>
    <t>The ospf module is intended to match to the vendor specific
    OSPF configuration construct that is identified by the local identifier 'name'.
    The field 'version' allows support for OSPFv2 and OSPFv3.</t>

    <t>The ospf container includes one OSPF protocol engine instance.
    The instance includes OSPF router level configuration and operational
    state.</t>

    <t>The area and area/interface containers respectively
    define the OSPF configuration and operational state for OSPF areas
    and interfaces.</t>

    <t>The topology container defines the OSPF configuration and operational
    state for OSPF topologies when the multi-topology feature is supported.</t>

    </section>

    <section title="OSPFv2 and OSPFv3">
      <t>The data model defined herein supports both OSPFv2 and OSPFv3.</t>
      <t>The field 'version' is used to indicate the OSPF version and is
      mandatory.  Based on the configured version, the data model varies
      to accommodate the differences between OSPFv2 and OSPFv3.</t>
    </section>
    <section title="Optional Features">
      <t>Optional features are beyond the basic OSPF configuration and
      it is the responsibility of each vendor to decide whether to
      support a given feature on a particular device.</t>
      <t>This model defines the following optional features:
     <list style="numbers">
       <t>multi-topology: Support Multiple-Topolgy Routing (MTR)
         <xref target="RFC4915"/>.</t>
       <t>multi-area-adj: Support OSPF multi-area adjacency
         <xref target="RFC5185"/>.</t>
       <t>explicit-router-id: Support explicit per-instance Router-ID
          specification.</t>
       <t>demand-circuit: Support OSPF demand circuits
          <xref target="RFC1793"/>.</t>
       <t>mtu-ignore: Support disabling OSPF Database Description
          packet MTU mismatch checking.</t>
       <t>lls: Support OSPF link-local signaling (LLS)
          <xref target="RFC5613"/>.</t>
       <t>prefix-suppression: Support OSPF prefix advertisement
          suppression <xref target="RFC6860"/>.</t>
       <t>ttl-security: Support OSPF Time to Live (TTL) security check
          suppression <xref target="RFC5082"/>.</t>
       <t>nsr: Support OSPF Non-Stop Routing (NSR).</t>
       <t>graceful-restart: Support Graceful OSPF Restart
          <xref target="RFC3623"/>, <xref target="RFC5187"/>.</t>
       <t>admin-control: Support Administrative control of the
          protocol state.</t>
       <t>auto-cost: Support OSPF interface cost calculation according to
         reference bandwidth <xref target="RFC2328"/>.</t>
       <t>max-ecmp: Support configuration of the maximum number of
          Equal-Cost Multi-Path (ECMP) paths.</t>
       <t>max-lsa: Support configuration of the maximum number of LSAs
          the OSPF instance will accept <xref target="RFC1765"/>.</t>
       <t>te-rid: Support configuration of the Traffic Engineering (TE)
           Router-ID <xref target="RFC3630"/>, <xref target="RFC5329"/>.</t>
       <t>ldp-igp-sync: Support LDP IGP synchronization
          <xref target="RFC5443"/>.</t>
       <t>ospfv3-authentication-ipsec: Support IPsec for OSPFv3
          authentication <xref target="RFC4552"/>.</t>
       <t>fast-reroute: Support IP Fast Reroute (IP-FRR)
          <xref target="RFC5714"/>.</t>
       <t>node-flag: Support node-flag for OSPF prefixes.
          <xref target="RFC7684"/>.</t>
       <t>node-tag: Support node admin tag for OSPF instances
          <xref target="RFC7777"/>.</t>
       <t>lfa: Support Loop-Free Alternates (LFAs)
          <xref target="RFC5286"/>.</t>
       <t>remote-lfa: Support Remote Loop-Free Alternates (R-LFA)
          <xref target="RFC7490"/>.</t>
       <t>stub-router: Support RFC 6987 OSPF Stub Router
          advertisement <xref target="RFC6987"/>.</t>
       <t>pe-ce-protocol: Support OSPF as a PE-CE protocol
          <xref target="RFC4577"/>, <xref target="RFC6565"/>.</t>
       <t>ietf-spf-delay: Support IETF SPF delay algorithm
          <xref target="RFC8405"/>.</t>
       <t>bfd: Support BFD detection of OSPF neighbor reachability
          <xref target="RFC5880"/>, <xref target="RFC5881"/>,
          and <xref target="I-D.ietf-bfd-yang"/>.</t>
      </list></t>
      <t>It is expected that vendors will support additional
      features through vendor-specific augmentations.</t>
    </section>
    <section title="OSPF Router Configuration/Operational State">
    <t>The ospf container is the top level container in this data model.
    It represents an OSPF protocol engine instance and contains the router level
    configuration and operational state.
    The operational state includes the instance statistics, IETF SPF delay statistics,
    AS-Scoped Link State Database, local RIB, SPF Log, and the LSA log.</t>

    <figure align="center">
      <artwork align="left">
module: ietf-ospf
  augment /rt:routing/rt:control-plane-protocols/
           rt:control-plane-protocol:
    +--rw ospf
       .
       .
       +--rw af                    iana-rt-types:address-family
       +--rw explicit-router-id?   rt-types:router-id
       |                           {explicit-router-id}?
       +--rw preference
       |  +--rw (scope)?
       |     +--:(single-value)
       |     |  +--rw all?          uint8
       |     +--:(multi-values)
       |        +--rw (granularity)?
       |        |  +--:(detail)
       |        |  |  +--rw intra-area?   uint8
       |        |  |  +--rw inter-area?   uint8
       |        |  +--:(coarse)
       |        |     +--rw internal?     uint8
       |        +--rw external?     uint8
       +--rw nsr {nsr}?
       |  +--rw enable?   boolean
       +--rw graceful-restart {graceful-restart}?
       |  +--rw enable?                       boolean
       |  +--rw helper-enable?                boolean
       |  +--rw restart-interval?             uint16
       |  +--rw helper-strict-lsa-checking?   boolean
       +--rw enable?               boolean {admin-control}?
       +--rw auto-cost {auto-cost}?
       |  +--rw enable?                boolean
       |  +--rw reference-bandwidth?   uint32
       +--rw spf-control
       |  +--rw paths?            uint16 {max-ecmp}?
       |  +--rw ietf-spf-delay {ietf-spf-delay}?
       |     +--rw initial-delay?   uint16
       |     +--rw short-delay?     uint16
       |     +--rw long-delay?      uint16
       |     +--rw hold-down?       uint16
       |     +--rw time-to-learn?   uint16
       |     +--ro current-state?             enumeration
       |     +--ro remaining-time-to-learn?   uint16
       |     +--ro remaining-hold-down?       uint16
       |     +--ro last-event-received?       yang:timestamp
       |     +--ro next-spf-time?             yang:timestamp
       |     +--ro last-spf-time?             yang:timestamp
       +--rw database-control
       |  +--rw max-lsa?   uint32 {max-lsa}?
       +--rw stub-router {stub-router}?
       |  +--rw (trigger)?
       |     +--:(always)
       |        +--rw always!
       +--rw mpls
       |  +--rw te-rid {te-rid}?
       |  |  +--rw ipv4-router-id?   inet:ipv4-address
       |  |  +--rw ipv6-router-id?   inet:ipv6-address
       |  +--rw ldp
       |     +--rw igp-sync?   boolean {ldp-igp-sync}?
       +--rw fast-reroute {fast-reroute}?
       |  +--rw lfa {lfa}?
       +--ro protected-routes
       |  +--ro af-stats* [af prefix alternate]
       |     +--ro af                    iana-rt-types:address-family
       |     +--ro prefix                string
       |     +--ro alternate             string
       |     +--ro alternate-type?       enumeration
       |     +--ro best?                 boolean
       |     +--ro non-best-reason?      string
       |     +--ro protection-available? bits
       |     +--ro alternate-metric1?    uint32
       |     +--ro alternate-metric2?    uint32
       |     +--ro alternate-metric3?    uint32
       +--ro unprotected-routes
       |  +--ro af-stats* [af prefix]
       |     +--ro af                    iana-rt-types:address-family
       |     +--ro prefix                string
       +--ro protection-statistics* [frr-protection-method]
       |  +--ro frr-protection-method string
       |  +--ro af-stats* [af]
       |     +--ro af                    iana-rt-types:address-family
       |     +--ro total-routes?         uint32
       |     +--ro unprotected-routes?   uint32
       |     +--ro protected-routes?     uint32
       |     +--ro linkprotected-routes? uint32
       |     +--ro nodeprotected-routes? uint32
       +--rw node-tags {node-tag}?
       |  +--rw node-tag* [tag]
       |     +--rw tag      uint32
       +--ro router-id?
       +--ro local-rib
       |  +--ro route* [prefix]
       |     +--ro prefix        inet:ip-prefix
       |     +--ro next-hops
       |     |  +--ro next-hop* [next-hop]
       |     |     +--ro outgoing-interface?   if:interface-ref
       |     |     +--ro next-hop              inet:ip-address
       |     +--ro metric?       uint32
       |     +--ro route-type?   route-type
       |     +--ro route-tag?    uint32
       +--ro statistics
       |  +--ro originate-new-lsa-count?   yang:counter32
       |  +--ro rx-new-lsas-count?         yang:counter32
       |  +--ro as-scope-lsa-count?        yang:gauge32
       |  +--ro as-scope-lsa-chksum-sum?   uint32
       |  +--ro database
       |     +--ro as-scope-lsa-type*
       |        +--ro lsa-type?        uint16
       |        +--ro lsa-count?       yang:gauge32
       |        +--ro lsa-cksum-sum?   int32
       +--ro database
       |  +--ro as-scope-lsa-type* [lsa-type]
       |     +--ro as-scope-lsas
       |        +--ro as-scope-lsa* [lsa-id adv-router]
       |           +--ro lsa-id               union
       |           +--ro adv-router           inet:ipv4-address
       |           +--ro decoded-completed?   boolean
       |           +--ro raw-data?            yang:hex-string
       |           +--ro (version)?
       |              +--:(ospfv2)
       |              |  +--ro ospfv2
       .              .
       .              .
       |              +--:(ospfv3)
       |                 +--ro ospfv3
       .
       .
       +--ro spf-log
       |  +--ro event* [id]
       |     +--ro id                    uint32
       |     +--ro spf-type?             enumeration
       |     +--ro schedule-timestamp?   yang:timestamp
       |     +--ro start-timestamp?      yang:timestamp
             +--ro end-timestamp?        yang:timestamp
       |     +--ro trigger-lsa*
       |        +--ro area-id?      area-id-type
       |        +--ro link-id?      union
       |        +--ro type?         uint16
       |        +--ro lsa-id?       yang:dotted-quad
       |        +--ro adv-router?   yang:dotted-quad
       |        +--ro seq-num?      uint32
       +--ro lsa-log
       |  +--ro event* [id]
       |     +--ro id                    uint32
       |     +--ro lsa
       |     |  +--ro area-id?      area-id-type
       |     |  +--ro link-id?      union
       |     |  +--ro type?         uint16
       |     |  +--ro lsa-id?       yang:dotted-quad
       |     |  +--ro adv-router?   yang:dotted-quad
       |     |  +--ro seq-num?      uint32
       |     +--ro received-timestamp?   yang:timestamp
       |     +--ro reason?               identityref
       .
       .
      </artwork>
    </figure>
    </section>
    <section title="OSPF Area Configuration/Operational State">
    <t>The area container contains OSPF area configuration and the list
    of interface containers representing all the OSPF interfaces
    in the area.
    The area operational state includes the area statistics and the Area
    Link State Database (LSDB).</t>

    <figure align="center">
      <artwork align="left">
module: ietf-ospf
  augment /rt:routing/rt:control-plane-protocols/
           rt:control-plane-protocol:
    +--rw ospf
       .
       .
       +--rw areas
       |  +--rw area* [area-id]
       |     +--rw area-id                   area-id-type
       |     +--rw area-type?                identityref
       |     +--rw summary?                  boolean
       |     +--rw default-cost?             uint32
       |     +--rw ranges
       |     |  +--rw range* [prefix]
       |     |     +--rw prefix       inet:ip-prefix
       |     |     +--rw advertise?   boolean
       |     |     +--rw cost?        uint24
       |     +--ro statistics
       |     |  +--ro spf-runs-count?              yang:counter32
       |     |  +--ro abr-count?                   yang:gauge32
       |     |  +--ro asbr-count?                  yang:gauge32
       |     |  +--ro ar-nssa-translator-event-count?
       |     |                                     yang:counter32
       |     |  +--ro area-scope-lsa-count?        yang:gauge32
       |     |  +--ro area-scope-lsa-cksum-sum?    int32
       |     |  +--ro database
       |     |     +--ro area-scope-lsa-type*
       |     |        +--ro lsa-type?        uint16
       |     |        +--ro lsa-count?       yang:gauge32
       |     |        +--ro lsa-cksum-sum?   int32
       |     +--ro database
       |     |  +--ro area-scope-lsa-type* [lsa-type]
       |     |     +--ro lsa-type           uint16
       |     |     +--ro area-scope-lsas
       |     |        +--ro area-scope-lsa* [lsa-id adv-router]
       |     |           +--ro lsa-id               union
       .     .           .
       .     .           .
       |     |           +--ro (version)?
       |     |              +--:(ospfv2)
       |     |              |  +--ro ospfv2
       |     |              |     +--ro header
       .     .              .     .
       .     .              .     .
       |     |              |     +--ro body
       |     |              |        +--ro router
       .     .              .        .
       .     .              .        .
       |     |              |        +--ro network
       .     .              .        .
       .     .              .        .
       |     |              |        +--ro summary
       .     .              .        .
       .     .              .        .
       |     |              |        +--ro external
       .     .              .        .
       .     .              .        .
       |     |              |        +--ro opaque
       .     .              .        .
       .     .              .        .
       |     |              +--:(ospfv3)
       |     |                 +--ro ospfv3
       |     |                    +--ro header
       .     .                    .
       .     .                    .
       |     |                    +--ro body
       |     |                       +--ro router
       .     .                       .
       .     .                       .
       |     |                       +--ro network
       .     .                       .
       .     .                       .
       |     |                       +--ro inter-area-prefix
       .     .                       .
       .     .                       .
       |     |                       +--ro inter-area-router
       .     .                       .
       .     .                       .
       |     |                       +--ro as-external
       .     .                       .
       .     .                       .
       |     |                       +--ro nssa
       .     .                       .
       .     .                       .
       |     |                       +--ro link
       .     .                       .
       .     .                       .
       |     |                       +--ro intra-area-prefix
       .     .                       .
       .     .                       .
       |     |                       +--ro router-information
       .     .                       .
       .     .                       .
       |     +--rw virtual-links
       |     |  +--rw virtual-link* [transit-area-id router-id]
       |     |     +--rw transit-area-id       -> ../../../../
       |     |                                    area/area-id
       |     |     +--rw router-id             rt-types:router-id
       |     |     +--rw hello-interval?       uint16
       |     |     +--rw dead-interval?        uint32
       |     |     +--rw retransmit-interval?  uint16
       |     |     +--rw transmit-delay?       uint16
       |     |     +--rw lls?                  boolean {lls}?
       |     |     +--rw ttl-security {ttl-security}?
       |     |     |  +--rw enable?   boolean
       |     |     |  +--rw hops?     uint8
       |     |     +--rw enable?               boolean
       |     |                                 {admin-control}?
       |     |     +--rw authentication
       |     |        +--rw (auth-type-selection)?
       |     |           +--:(auth-ipsec)
       |     |               {ospfv3-authentication-ipsec}?
       |     |           |  +--rw sa?                 string
       |     |           +--:(auth-trailer-key-chain)
       |     |           |  +--rw key-chain?
       |     |                    key-chain:key-chain-ref
       |     |           +--:(auth-trailer-key)
       |     |              +--rw key?                string
       |     |              +--rw crypto-algorithm?   identityref
       |     |     +--ro cost?                 uint16
       |     |     +--ro state?                if-state-type
       |     |     +--ro hello-timer?          uint32
       |     |     +--ro wait-timer?           uint32
       |     |     +--ro dr-router-id?         rt-types:router-id
       |     |     +--ro dr-ip-addr?           inet:ip-address
       |     |     +--ro bdr-router-id?        rt-types:router-id
       |     |     +--ro bdr-ip-addr?          inet:ip-address
       |     |     +--ro statistics
       |     |     |  +--ro if-event-count?        yang:counter32
       |     |     |  +--ro link-scope-lsa-count?  yang:gauge32
       |     |     |  +--ro link-scope-lsa-cksum-sum?
       |     |     |                               uint32
       |     |     |  +--ro database
       |     |     |     +--ro link-scope-lsa-type*
       |     |     |        +--ro lsa-type?        uint16
       |     |     |        +--ro lsa-count?       yang:gauge32
       |     |     |        +--ro lsa-cksum-sum?   int32
       |     |     +--ro neighbors
       |     |     |  +--ro neighbor* [neighbor-router-id]
       |     |     |     +--ro neighbor-router-id
       |     |     |                           rt-types:router-id
       |     |     |     +--ro address?        inet:ip-address
       |     |     |     +--ro dr-router-id?   rt-types:router-id
       |     |     |     +--ro dr-ip-addr?     inet:ip-address
       |     |     |     +--ro bdr-router-id?  rt-types:router-id
       |     |     |     +--ro bdr-ip-addr?    inet:ip-address
       |     |     |     +--ro state?          nbr-state-type
       |     |     |     +--ro dead-timer?     uint32
       |     |     |     +--ro statistics
       |     |     |        +--ro nbr-event-count?
       |     |     |                           yang:counter32
       |     |     |        +--ro nbr-retrans-qlen?
       |     |     |                           yang:gauge32
       |     |     +--ro database
       |     |        +--ro link-scope-lsa-type* [lsa-type]
       |     |           +--ro lsa-type           uint16
       |     |           +--ro link-scope-lsas
       .     .
       .     .
       |     +--rw sham-links {pe-ce-protocol}?
       |     |  +--rw sham-link* [local-id remote-id]
       |     |     +--rw local-id               inet:ip-address
       |     |     +--rw remote-id              inet:ip-address
       |     |     +--rw hello-interval?        uint16
       |     |     +--rw dead-interval?         uint32
       |     |     +--rw retransmit-interval?   uint16
       |     |     +--rw transmit-delay?        uint16
       |     |     +--rw lls?                   boolean {lls}?
       |     |     +--rw ttl-security {ttl-security}?
       |     |     |  +--rw enable?   boolean
       |     |     |  +--rw hops?     uint8
       |     |     +--rw enable?             boolean
       |     |                               {admin-control}?
       |     |     +--rw authentication
       |     |     |  +--rw (auth-type-selection)?
       |     |     |     +--:(auth-ipsec)
       |     |     |         {ospfv3-authentication-ipsec}?
       |     |     |     |  +--rw sa?                 string
       |     |     |     +--:(auth-trailer-key-chain)
       |     |     |     |  +--rw key-chain?
       |     |     |              key-chain:key-chain-ref
       |     |     |     +--:(auth-trailer-key)
       |     |     |        +--rw key?                string
       |     |     |        +--rw crypto-algorithm?   identityref
       |     |     +--rw cost?               uint16
       |     |     +--rw mtu-ignore?         boolean
       |     |                               {mtu-ignore}?
       |     |     +--rw prefix-suppression? boolean
       |     |                               {prefix-suppression}?
       |     |     +--ro state?              if-state-type
       |     |     +--ro hello-timer?        uint32
       |     |     +--ro wait-timer?         uint32
       |     |     +--ro dr-router-id?       rt-types:router-id
       |     |     +--ro dr-ip-addr?         inet:ip-address
       |     |     +--ro bdr-router-id?      rt-types:router-id
       |     |     +--ro bdr-ip-addr?        inet:ip-address
       |     |     +--ro statistics
       |     |     |  +--ro if-event-count?        yang:counter32
       |     |     |  +--ro link-scope-lsa-count?  yang:gauge32
       |     |     |  +--ro link-scope-lsa-cksum-sum?
       |     |     |                               uint32
       |     |     |  +--ro database
       |     |     |     +--ro link-scope-lsa-type*
       |     |     |        +--ro lsa-type?        uint16
       |     |     |        +--ro lsa-count?       yang:gauge32
       |     |     |        +--ro lsa-cksum-sum?   int32
       |     |     +--ro neighbors
       |     |     |  +--ro neighbor* [neighbor-router-id]
       |     |     |     +--ro neighbor-router-id
       |     |     |                           rt-types:router-id
       |     |     |     +--ro address?        inet:ip-address
       |     |     |     +--ro dr-router-id?   rt-types:router-id
       |     |     |     +--ro dr-ip-addr?     inet:ip-address
       |     |     |     +--ro bdr-router-id?  rt-types:router-id
       |     |     |     +--ro bdr-ip-addr?    inet:ip-address
       |     |     |     +--ro state?          nbr-state-type
       |     |     |     +--ro dead-timer?     uint32
       |     |     |     +--ro statistics
       |     |     |        +--ro nbr-event-count?
       |     |     |                           yang:counter32
       |     |     |        +--ro nbr-retrans-qlen?
       |     |     |                           yang:gauge32
       |     |     +--ro database
       |     |        +--ro link-scope-lsa-type* [lsa-type]
       |     |           +--ro lsa-type           uint16
       |     |           +--ro link-scope-lsas
       .     .
       .     .
      </artwork>
    </figure>
    </section>
    <section title="OSPF Interface Configuration/Operational State">
    <t>The interface container contains OSPF interface configuration
       and operational state.
       The interface operational state includes the statistics, list of
       neighbors, and Link-Local Link State Database (LSDB).</t>
    <figure align="left">
      <artwork align="left">
module: ietf-ospf
  augment /rt:routing/rt:control-plane-protocols/
           rt:control-plane-protocol:
    +--rw ospf
       .
       .
       +--rw areas
       |  +--rw area* [area-id]
       |     .
       |     .
       |     +--rw interfaces
       |        +--rw interface* [name]
       |           +--rw name                   if:interface-ref
       |           +--rw interface-type?        enumeration
       |           +--rw passive?               boolean
       |           +--rw demand-circuit?        boolean
       |                                        {demand-circuit}?
       |           +--rw priority?              uint8
       |           +--rw multi-areas {multi-area-adj}?
       |           |  +--rw multi-area* [multi-area-id]
       |           |     +--rw multi-area-id      area-id-type
       |           |     +--rw cost?              uint16
       |           +--rw static-neighbors
       |           |  +--rw neighbor* [identifier]
       |           |     +--rw identifier       inet:ip-address
       |           |     +--rw cost?            uint16
       |           |     +--rw poll-interval?   uint16
       |           |     +--rw priority?        uint8
       |           +--rw node-flag?             boolean
       |                                        {node-flag}?
       |           +--rw bfd {bfd}?
       |           |  +--rw enable?   boolean
       |           +--rw fast-reroute {fast-reroute}?
       |           |  +--rw lfa {lfa}?
       |           |     +--rw candidate-enable?   boolean
       |           |     +--rw enable?             boolean
       |           |     +--rw remote-lfa {remote-lfa}?
       |           |        +--rw enable?   boolean
       |           +--rw hello-interval?        uint16
       |           +--rw dead-interval?         uint32
       |           +--rw retransmit-interval?   uint16
       |           +--rw transmit-delay?        uint16
       |           +--rw lls?                   boolean {lls}?
       |           +--rw ttl-security {ttl-security}?
       |           |  +--rw enable?   boolean
       |           |  +--rw hops?     uint8
       |           +--rw enable?                boolean
       |                                        {admin-control}?
       |           +--rw authentication
       |           |  +--rw (auth-type-selection)?
       |           |     +--:(auth-ipsec)
       |           |     |   {ospfv3-authentication-ipsec}?
       |           |     |  +--rw sa?                 string
       |           |     +--:(auth-trailer-key-chain)
       |           |     |  +--rw key-chain?
       |           |     |        key-chain:key-chain-ref
       |           |     +--:(auth-trailer-key)
       |           |        +--rw key?                string
       |           |        +--rw crypto-algorithm?   identityref
       |           +--rw cost?               uint16
       |           +--rw mtu-ignore?         boolean
       |           |                         {mtu-ignore}?
       |           +--rw prefix-suppression? boolean
       |           |                         {prefix-suppression}?
       |           +--ro state?                 if-state-type
       |           +--ro hello-timer?        uint32
       |           +--ro wait-timer?         uint32
       |           +--ro dr-router-id?       rt-types:router-id
       |           +--ro dr-ip-addr?         inet:ip-address
       |           +--ro bdr-router-id?      rt-types:router-id
       |           +--ro bdr-ip-addr?        inet:ip-address
       |           +--ro statistics
       |           |  +--ro if-event-count?        yang:counter32
       |           |  +--ro link-scope-lsa-count?  yang:gauge32
       |           |  +--ro link-scope-lsa-cksum-sum?
       |           |                               uint32
       |           |  +--ro database
       |           |     +--ro link-scope-lsa-type*
       |           |        +--ro lsa-type?        uint16
       |           |        +--ro lsa-count?       yang:gauge32
       |           |        +--ro lsa-cksum-sum?   int32
       |           +--ro neighbors
       |           |  +--ro neighbor* [neighbor-router-id]
       |           |     +--ro neighbor-router-id
       |           |                           rt-types:router-id
       |           |     +--ro address?        inet:ip-address
       |           |     +--ro dr-router-id?   rt-types:router-id
       |           |     +--ro dr-ip-addr?     inet:ip-address
       |           |     +--ro bdr-router-id?  rt-types:router-id
       |           |     +--ro bdr-ip-addr?    inet:ip-address
       |           |     +--ro state?          nbr-state-type
       |           |     +--ro dead-timer?     uint32
       |           |     +--ro statistics
       |           |        +--ro nbr-event-count?
       |           |                           yang:counter32
       |           |        +--ro nbr-retrans-qlen?
       |           |                           yang:gauge32
       |           +--ro database
       |           .  +--ro link-scope-lsa-type* [lsa-type]
       |           .     +--ro lsa-type           uint16
       |           .     +--ro link-scope-lsas
       .           .
       .           .
       |           +--rw topologies {ospf:multi-topology}?
       |           |  +--rw topology* [name]
       |           |     +--rw name  -> ../../../../../../../../
       |           |                    ../../../rt:ribs/rib/name
       |           |     +--rw cost? uint32
       |           +--rw instance-id?           uint8
       .
       .
      </artwork>
    </figure>
    </section>
    <section title="OSPF notification">
    <t>This YANG model defines a list of notifications that inform YANG
    clients of important events detected during protocol operation.  The
    defined notifications cover the common set of traps from the OSPFv2 MIB
    <xref target="RFC4750"></xref> and OSPFv3 MIB <xref target="RFC5643"></xref>.</t>
    <figure align="left">
      <artwork align="left">
  notifications:
    +---n if-state-change
    |  +--ro routing-protocol-name?
    |  +     -> /rt:routing/control-plane-protocols/
    |  +         control-plane-protocol/name
    |  +--ro af?
    |  +     -> /rt:routing/control-plane-protocols/
    |  +         control-plane-protocol
    |  +         [rt:name=current()/../routing-protocol-name]/
    |  +         ospf:ospf/af
    |  +--ro (if-link-type-selection)?
    |  |  +--:(interface)
    |  |  |  +--ro interface
    |  |  |     +--ro interface?   if:interface-ref
    |  |  +--:(virtual-link)
    |  |  |  +--ro virtual-link
    |  |  |     +--ro transit-area-id?      area-id-type
    |  |  |     +--ro neighbor-router-id?   rt-types:router-id
    |  |  +--:(sham-link)
    |  |     +--ro sham-link
    |  |        +--ro area-id?          area-id-type
    |  |        +--ro local-ip-addr?    inet:ip-address
    |  |        +--ro remote-ip-addr?   inet:ip-address
    |  +--ro state?                   if-state-type
    +---n if-config-error
    |  +--ro routing-protocol-name?
    |  +     -> /rt:routing/control-plane-protocols/
    |  +         control-plane-protocol/name
    |  +--ro af?
    |  +     -> /rt:routing/control-plane-protocols/
    |  +         control-plane-protocol
    |  +         [rt:name=current()/../routing-protocol-name]/
    |  +         ospf:ospf/af
    |  +--ro (if-link-type-selection)?
    |  |  +--:(interface)
    |  |  |  +--ro interface
    |  |  |     +--ro interface?   if:interface-ref
    |  |  +--:(virtual-link)
    |  |  |  +--ro virtual-link
    |  |  |     +--ro transit-area-id?      area-id-type
    |  |  |     +--ro neighbor-router-id?   rt-types:router-id
    |  |  +--:(sham-link)
    |  |     +--ro sham-link
    |  |        +--ro area-id?          area-id-type
    |  |        +--ro local-ip-addr?    inet:ip-address
    |  |        +--ro remote-ip-addr?   inet:ip-address
    |  +--ro packet-source?           yang:dotted-quad
    |  +--ro packet-type?             packet-type
    |  +--ro error?                   enumeration
    +---n nbr-state-change
    |  +--ro routing-protocol-name?
    |  +     -> /rt:routing/control-plane-protocols/
    |  +         control-plane-protocol/name
    |  +--ro af?
    |  +     -> /rt:routing/control-plane-protocols/
    |  +         control-plane-protocol
    |  +         [rt:name=current()/../routing-protocol-name]/
    |  +         ospf:ospf/af
    |  +--ro (if-link-type-selection)?
    |  |  +--:(interface)
    |  |  |  +--ro interface
    |  |  |     +--ro interface?   if:interface-ref
    |  |  +--:(virtual-link)
    |  |  |  +--ro virtual-link
    |  |  |     +--ro transit-area-id?      area-id-type
    |  |  |     +--ro neighbor-router-id?   rt-types:router-id
    |  |  +--:(sham-link)
    |  |     +--ro sham-link
    |  |        +--ro area-id?          area-id-type
    |  |        +--ro local-ip-addr?    inet:ip-address
    |  |        +--ro remote-ip-addr?   inet:ip-address
    |  +--ro neighbor-router-id?      rt-types:router-id
    |  +--ro neighbor-ip-addr?        yang:dotted-quad
    |  +--ro state?                   nbr-state-type
    +---n nbr-restart-helper-status-change
    |  +--ro routing-protocol-name?
    |  +     -> /rt:routing/control-plane-protocols/
    |  +         control-plane-protocol/name
    |  +--ro af?
    |  +     -> /rt:routing/control-plane-protocols/
    |  +         control-plane-protocol
    |  +         [rt:name=current()/../routing-protocol-name]/
    |  +         ospf:ospf/af
    |  +--ro (if-link-type-selection)?
    |  |  +--:(interface)
    |  |  |  +--ro interface
    |  |  |     +--ro interface?   if:interface-ref
    |  |  +--:(virtual-link)
    |  |  |  +--ro virtual-link
    |  |  |     +--ro transit-area-id?      area-id-type
    |  |  |     +--ro neighbor-router-id?   rt-types:router-id
    |  |  +--:(sham-link)
    |  |     +--ro sham-link
    |  |        +--ro area-id?          area-id-type
    |  |        +--ro local-ip-addr?    inet:ip-address
    |  |        +--ro remote-ip-addr?   inet:ip-address
    |  +--ro neighbor-router-id?      rt-types:router-id
    |  +--ro neighbor-ip-addr?        yang:dotted-quad
    |  +--ro status?                  restart-helper-status-type
    |  +--ro age?                     uint32
    |  +--ro exit-reason?             restart-exit-reason-type
    +---n if-rx-bad-packet
    |  +--ro routing-protocol-name?
    |  +     -> /rt:routing/control-plane-protocols/
    |  +         control-plane-protocol/name
    |  +--ro af?
    |  +     -> /rt:routing/control-plane-protocols/
    |  +         control-plane-protocol
    |  +         [rt:name=current()/../routing-protocol-name]/
    |  +         ospf:ospf/af
    |  +--ro (if-link-type-selection)?
    |  |  +--:(interface)
    |  |  |  +--ro interface
    |  |  |     +--ro interface?   if:interface-ref
    |  |  +--:(virtual-link)
    |  |  |  +--ro virtual-link
    |  |  |     +--ro transit-area-id?      area-id-type
    |  |  |     +--ro neighbor-router-id?   rt-types:router-id
    |  |  +--:(sham-link)
    |  |     +--ro sham-link
    |  |        +--ro area-id?          area-id-type
    |  |        +--ro local-ip-addr?    inet:ip-address
    |  |        +--ro remote-ip-addr?   inet:ip-address
    |  +--ro packet-source?           yang:dotted-quad
    |  +--ro packet-type?             packet-type
    +---n lsdb-approaching-overflow
    |  +--ro routing-protocol-name?
    |  +     -> /rt:routing/control-plane-protocols/
    |  +         control-plane-protocol/name
    |  +--ro af?
    |  +     -> /rt:routing/control-plane-protocols/
    |  +         control-plane-protocol
    |  +         [rt:name=current()/../routing-protocol-name]/
    |  +         ospf:ospf/af
    |  +--ro ext-lsdb-limit?          uint32
    +---n lsdb-overflow
    |  +--ro routing-protocol-name?
    |  +     -> /rt:routing/control-plane-protocols/
    |  +         control-plane-protocol/name
    |  +--ro af?
    |  +     -> /rt:routing/control-plane-protocols/
    |  +         control-plane-protocol
    |  +         [rt:name=current()/../routing-protocol-name]/
    |  +         ospf:ospf/af
    |  +--ro ext-lsdb-limit?          uint32
    +---n nssa-translator-status-change
    |  +--ro routing-protocol-name?
    |  +     -> /rt:routing/control-plane-protocols/
    |  +         control-plane-protocol/name
    |  +--ro af?
    |  +     -> /rt:routing/control-plane-protocols/
    |  +         control-plane-protocol
    |  +         [rt:name=current()/../routing-protocol-name]/
    |  +         ospf:ospf/af
    |  +--ro area-id?                 area-id-type
    |  +--ro status?                  nssa-translator-state-type
    +---n restart-status-change
       +--ro routing-protocol-name?
       +     -> /rt:routing/control-plane-protocols/
       +         control-plane-protocol/name
       +--ro af?
       +     -> /rt:routing/control-plane-protocols/
       +         control-plane-protocol
       +         [rt:name=current()/../routing-protocol-name]/
       +         ospf:ospf/af
       +--ro status?                  restart-status-type
       +--ro restart-interval?        uint16
       +--ro exit-reason?             restart-exit-reason-type
      </artwork>
    </figure>
    </section>
    <section title="OSPF RPC Operations">
    <t>The "ietf-ospf" module defines two RPC operations:
    <list style="symbols">
      <t>clear-database: reset the content of a particular OSPF
         Link State Database.</t>
      <t>clear-neighbor: restart a particular set of OSPF neighbor.</t>
      </list></t>
    <figure align="left">
      <artwork align="left">
  rpcs:
    +---x clear-neighbor
    |  +---w input
    |     +---w routing-protocol-name
    |     +     -> /rt:routing/control-plane-protocols/
    |     +         control-plane-protocol/name
    |     +---w interface?               if:interface-ref
    +---x clear-database
       +---w input
          +---w routing-protocol-name
                -> /rt:routing/control-plane-protocols/
                    control-plane-protocol/name
      </artwork>
    </figure>
    </section>
  </section>

  <section title="OSPF YANG Module">
  <t>The following RFCs and drafts are not referenced in the document text but
     are referenced in the ietf-ospf.yang module: <xref target="RFC0905"/>,
     <xref target="RFC4576"/>, <xref target="RFC5250"/>, <xref target="RFC5881"/>,
     <xref target="RFC6991"/>, <xref target="RFC7770"/>, and <xref target="RFC8294"/>.
  </t>
  <t>
    <figure>
      <artwork><![CDATA[
<CODE BEGINS> file "ietf-ospf@2018-08-29.yang"
<CODE ENDS>
      ]]></artwork>
    </figure>
  </t>
  </section>

    <!-- Possibly a 'Contributors' section ... -->

   <section anchor="Security" title="Security Considerations">

    <t>The YANG modules specified in this document define a schema for
       data that is designed to be accessed via network
       management protocols such as NETCONF <xref target="RFC6241"/> or
       RESTCONF <xref target="RFC8040"/>. The lowest NETCONF layer is the secure transport
       layer, and the mandatory-to-implement secure transport is Secure Shell (SSH)
       <xref target="RFC6242"/>. The lowest RESTCONF layer is HTTPS, and the
       mandatory-to-implement secure transport is TLS <xref target="RFC8446"/>.</t>

   <t>The NETCONF access control model <xref target="RFC8341"/> provides the
      means to restrict access for particular NETCONF or RESTCONF users to a
      pre-configured subset of all available NETCONF or RESTCONF protocol
      operations and content.</t>

   <t>There are a number of data nodes defined in ietf-ospf.yang module that are
      writable/creatable/deletable (i.e., config true, which is the default).
      These data nodes may be considered sensitive or vulnerable in some network
      environments. Write operations (e.g., edit-config) to these data nodes without
      proper protection can have a negative effect on network operations. For OSPF,
      the ability to modify OSPF configuration will allow the entire OSPF domain
      to be compromised including peering with unauthorized routers to
      misroute traffic or mount a massive Denial-of-Service (DoS) attack. The
      security considerations of OSPFv2 <xref target="RFC2328"/> and
      <xref target="RFC5340"/> apply to the ietf-ospf.yang module as well.</t>

   <t>Some of the readable data nodes in the ietf-ospf.yang module may be considered
      sensitive or vulnerable in some network environments. It is thus
      important to control read access (e.g., via get, get-config, or notification)
      to these data nodes. The exposure of the Link State Database (LSDB) will
      expose the detailed topology of the network. This may be undesirable since
      both due to the fact that exposure may facilitate other attacks. Additionally,
      network operators may consider their topologies to be sensitive confidential
      data.</t>

    <t>For OSPF authentication, configuration is supported via the specification
       of key-chains <xref target="RFC8177"/> or the direct specification of
       key and authentication algorithm. Hence, authentification configuration
       using the "auth-table-trailer" case in the "authentication" container
       inherits the security considerations of <xref target="RFC8177"/>. This
       includes the considerations with respect to the local storage and
       handling of authentication keys.</t>

   <t>Some of the RPC operations in this YANG module may be considered sensitive or
      vulnerable in some network environments. It is thus important to control
      access to these operations. The OSPF YANG module support the "clear-neighbor"
      and "clear-database" RPCs. If access too either of these is compromised, they
      can result in temporary network outages be employed to mount DoS attacks.</t>
   </section>
   <section title="IANA Considerations">
     <t>This document registers a URI in the IETF XML registry
     <xref target="RFC3688"/>.  Following the format in <xref target="RFC3688"/>,
     the following registration is requested to be made:
     <figure>
     <artwork>
     URI: urn:ietf:params:xml:ns:yang:ietf-ospf
     Registrant Contact: The IESG.
     XML: N/A, the requested URI is an XML namespace.
     </artwork>
     </figure></t>
     <t>This document registers a YANG module in the YANG Module Names
     registry <xref target="RFC6020"/>.
     <figure>
     <artwork>
     name: ietf-ospf
     namespace: urn:ietf:params:xml:ns:yang:ietf-ospf
     prefix: ospf
     reference: RFC XXXX
     </artwork>
     </figure></t>
    </section>
    <section anchor="Acknowledgements" title="Acknowledgements">
      <t>The authors wish to thank Yi Yang, Alexander Clemm,
      Gaurav Gupta, Ladislav Lhotka, Stephane Litkowski,
      Greg Hankins, Manish Gupta and Alan Davey for their thorough reviews
      and helpful comments.</t>
      <t>Thanks to Tom Petch for last call review and improvement of the
         document organization.</t>
      <t>This document was produced using Marshall Rose's xml2rfc tool.</t>
    </section>
  </middle>

  <!--  *****BACK MATTER ***** -->

  <back>
    <!-- References split into informative and normative -->

    <!-- There are 2 ways to insert reference entries from the citation libraries:
     1. define an ENTITY at the top, and use "ampersand character"RFC2629; here (as shown)
     2. simply use a PI "less than character"?rfc include="reference.RFC.2119.xml"?> here
        (for I-Ds: include="reference.I-D.narten-iana-considerations-rfc2434bis.xml")

     Both are cited textually in the same manner: by using xref elements.
     If you use the PI option, xml2rfc will, by default, try to find included files in the same
     directory as the including file. You can also define the XML_LIBRARY environment variable
     with a value containing a set of directories to search.  These can be either in the local
     filing system or remote ones accessed by http (http://domain/dir/... ).-->

    <references title="Normative References">
      <!--?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml"?-->
      &RFC1793;
      &RFC2119;
      &RFC2328;
      &RFC3101;
      &RFC3630;
      &RFC3623;
      &RFC3688;
      &RFC4552;
      &RFC4576;
      &RFC4577;
      &RFC4750;
      &RFC4915;
      &RFC5082;
      &RFC5185;
      &RFC5187;
      &RFC5250;
      &RFC5286;
      &RFC5329;
      &RFC5340;
      &RFC5613;
      &RFC5643;
      &RFC5838;
      &RFC5880;
      &RFC5881;
      &RFC6020;
      &RFC6241;
      &RFC6242;
      &RFC6565;
      &RFC6860;
      &RFC6991;
      &RFC7490;
      &RFC7684;
      &RFC7770;
      &RFC7777;
      &RFC7950;
      &RFC8040;
      &RFC8174;
      &RFC8177;
      &RFC8294;
      &RFC8340;
      &RFC8341;
      &RFC8342;
      &RFC8343;
      &RFC8349;
      &RFC8405;
      &RFC8446;
      &I-D.ietf-bfd-yang;
    </references>
    <references title="Informative References">
      &RFC905;
      &RFC1765;
      &RFC5443;
      &RFC5714;
      &RFC6987;
    </references>
   <section title="Contributors' Addreses">
   <figure>
   <artwork>

Dean Bogdanovic
Volta Networks, Inc.

EMail: dean@voltanet.io


Kiran Koushik Agrahara Sreenivasa
Verizon
500 W Dove Rd
Southlake, TX 76092
USA

EMail: kk@employees.org

   </artwork>
   </figure>
  </section>
  </back>
</rfc>
